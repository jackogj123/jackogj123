define("mediaPlayer",["lodash","core","santaProps","coreUtils","santa-components","skins","react","components"],function(e,t,n,i,o,r,a,s){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1505)}({0:function(t,n){t.exports=e},1505:function(e,t,n){var i,o;i=[n(0),n(18),n(2),n(4),n(3),n(23),n(6),n(7),n(1506)],void 0===(o=function(e,t,n,i,o,r,a,s,c){"use strict";var p=i.mediaConsts,l=r.mediaCommon.mediaLogicMixins.mediaPlayer,u=n.compMixins.timeoutsMixin,d=a.mixins.inlineContentMixin,m={displayName:"MediaPlayer",mixins:[n.compMixins.skinBasedComp,l,u,n.compMixins.createChildComponentMixin,d],propTypes:{style:o.Types.Component.style.isRequired,compDesign:o.Types.Component.compDesign,compProp:o.Types.Component.compProp,isMobileDevice:o.Types.Device.isMobileDevice,containerStyle:o.Types.MediaPlayerDesign.containerStyle,isMobileView:o.Types.isMobileView},statics:{behaviors:r.mediaCommon.mediaBehaviors.mediaPlayer},getInitialState:function(){return{hover:!1,timedHover:!1}},addPropsToChildren:function(e){var n={playerInteraction:this.props.compProp.playerInteraction,playerInHoverState:this.state.hover,playerInTimedHoverState:this.state.timedHover};return t.Children.map(e,function(e){return t.cloneElement(e,n)})},toggleHover:function(e){var t=this.getCurrentState().playbackState===p.playbackTypes.PLAY_ENDED,n=!1===this.props.compProp.playerInteraction.allowReplay&&t,i="mouseenter"===e.type&&!n;this.setState({hover:i}),i||this.removeTimedHover()},setTimedHover:function(){this.state.timedHover||this.setState({timedHover:!0}),this.setTimeout(this.removeTimedHover,2e3)},removeTimedHover:function(){this.setState({timedHover:!1})},handleHoverAction:function(e){var t=this;return function(n){t.toggleHover(n),e.forEach(function(e){if(e.action){var t=e.params||[];e.action.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}})}},getAudioHoverInteraction:function(t){var n=e.get(this.props.compProp,["playerAudioInteraction",t]);return{mute:{action:this.mediaVolumeFadeOut,params:[.5]},unmute:{action:this.mediaVolumeFadeIn,params:[.5]}}[n]},getVideoHoverInteraction:function(e){var t=this.props.compProp.playerInteraction[e];return{play:{action:this.playMedia},pause:{action:this.pauseMedia},none:null}[t]},getClickInteraction:function(){var e=this;return{toggle:function(){return e.togglePlayMedia()},play:function(){return e.playMedia()}}[this.props.compProp.playerInteraction.click]},getInteractionEvents:function(){var t=[this.getVideoHoverInteraction("rollIn"),this.getAudioHoverInteraction("rollIn")],n=[this.getVideoHoverInteraction("rollOut"),this.getAudioHoverInteraction("rollOut")];return{onMouseMove:this.setTimedHover,onClick:this.getClickInteraction(),onMouseEnter:this.handleHoverAction(e.compact(t)),onMouseLeave:this.handleHoverAction(e.compact(n))}},getSkinProperties:function(){var t={"":{style:this.props.style},background:this.createFillLayers(),container:{style:this.props.containerStyle},inlineContent:{children:this.addPropsToChildren(this.getChildrenRenderer())}};return e.assign(t.container,this.getInteractionEvents()),t}};return n.compRegistrar.register("wysiwyg.viewer.components.MediaPlayer",m),s.skinsMap.addBatch(c),m}.apply(t,i))||(e.exports=o)},1506:function(e,t,n){var i;void 0===(i=function(){"use strict";var e={"wysiwyg.viewer.skins.mediaPlayerSkin":{react:[["div","container",[],{},["div","background",[],{}],["div","inlineContentParent",[],{},["div","inlineContent",[],{}]]]],css:{"%inlineContentParent":"position:absolute;top:0;right:0;bottom:0;left:0;","%container":"position:absolute;top:0;left:0;width:100%;height:100%;"}}};return e}.apply(t,[]))||(e.exports=i)},18:function(e,t){e.exports=a},2:function(e,n){e.exports=t},23:function(e,t){e.exports=s},3:function(e,t){e.exports=n},4:function(e,t){e.exports=i},6:function(e,t){e.exports=o},7:function(e,t){e.exports=r}})});
//# sourceMappingURL=mediaPlayer.min.js.map